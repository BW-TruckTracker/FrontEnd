[{"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\index.js":"1","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\App.js":"2","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\reducers\\index.js":"3","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\reducers\\postReducer.js":"4","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\reducers\\AuthReducer.js":"5","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\About.js":"6","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\SignUp.js":"7","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\homepage\\Homepage.js":"8","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\Navbar.js":"9","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\homepage\\Basemap.js":"10","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\footer\\Footer.js":"11","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\loading-screen\\Loading.js":"12","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\actions\\trucksActions.js":"13","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\actions\\index.js":"14","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\validation\\registerSchema.js":"15","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\actions\\authActions.js":"16","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\utils\\axiosWithAuth.js":"17","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\login.js":"18","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\privateRoute.js":"19","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\validation\\loginFormSchema.js":"20"},{"size":1405,"mtime":1610047330381,"results":"21","hashOfConfig":"22"},{"size":1300,"mtime":1610047210438,"results":"23","hashOfConfig":"22"},{"size":216,"mtime":1609976249348,"results":"24","hashOfConfig":"22"},{"size":707,"mtime":1609976558134,"results":"25","hashOfConfig":"22"},{"size":1193,"mtime":1609976382987,"results":"26","hashOfConfig":"22"},{"size":579,"mtime":1609974932198,"results":"27","hashOfConfig":"22"},{"size":10534,"mtime":1610046787069,"results":"28","hashOfConfig":"22"},{"size":829,"mtime":1609974932203,"results":"29","hashOfConfig":"22"},{"size":711,"mtime":1610046695804,"results":"30","hashOfConfig":"22"},{"size":2873,"mtime":1609974932202,"results":"31","hashOfConfig":"22"},{"size":1072,"mtime":1609974932201,"results":"32","hashOfConfig":"22"},{"size":334,"mtime":1609974932204,"results":"33","hashOfConfig":"22"},{"size":338,"mtime":1609976135759,"results":"34","hashOfConfig":"22"},{"size":230,"mtime":1609975906198,"results":"35","hashOfConfig":"22"},{"size":384,"mtime":1609974932206,"results":"36","hashOfConfig":"22"},{"size":341,"mtime":1609975904141,"results":"37","hashOfConfig":"22"},{"size":295,"mtime":1609976602766,"results":"38","hashOfConfig":"22"},{"size":2904,"mtime":1610046055869,"results":"39","hashOfConfig":"22"},{"size":506,"mtime":1609978971045,"results":"40","hashOfConfig":"22"},{"size":297,"mtime":1610047283368,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1213vn0",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\index.js",[],["86","87"],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\App.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\reducers\\index.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\reducers\\postReducer.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\reducers\\AuthReducer.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\About.js",[],["88","89"],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\SignUp.js",["90"],"\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\nimport * as yup from \"yup\";\r\nimport signupSchema from \"./validation/registerSchema\";\r\nimport \"../App.css\";\r\nconst INITIAL_FORM_STATE = {\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n};\r\nconst INITIAL_ERROR_STATE = {\r\n    username: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n};\r\nconst SignUp = (props) => {\r\n    const [formState, setFormState] = useState(INITIAL_FORM_STATE);\r\n    const [responseMsg, setResponseMsg] = useState({ success: null, msg: \"\" });\r\n    const [formErrors, setFormErrors] = useState(INITIAL_ERROR_STATE);\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [formChanged, setFormChanged] = useState(false);\r\n    useEffect(() => {\r\n        if (props && props.userData) {\r\n            setFormState(props.userData);\r\n        }\r\n    }, [props]);\r\n    const handleInputChange = (e) => {\r\n        const target = e.target;\r\n        validate(target.name, target.value);\r\n        setFormState({ ...formState, [target.name]: target.value });\r\n    };\r\n    const validate = (name, value) => {\r\n        yup\r\n            .reach(signupSchema, name)\r\n            .validate(value)\r\n            .then((valid) => {\r\n                setFormChanged(true);\r\n                setFormErrors({\r\n                    ...formErrors,\r\n                    [name]: \"\",\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                setFormErrors({\r\n                    ...formErrors,\r\n                    [name]: err.errors[0],\r\n                });\r\n            });\r\n    };\r\n    useEffect(() => {\r\n        signupSchema.isValid(formState).then((valid) => {\r\n            setDisabled(!valid);\r\n        });\r\n    }, [formState]);\r\n    useEffect(() => {\r\n        signupSchema.isValid(formChanged).then((valid) => {\r\n            setDisabled(!valid);\r\n        });\r\n    }, [formChanged]);\r\n    const onFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        axiosWithAuth()\r\n            .post(\"/auth/register\", formState)\r\n            .then((res) => {\r\n                console.log(res);\r\n                if (res.statusText === \"Created\") {\r\n                    console.log(\"New account is created successfully.\");\r\n                    const successMsg = props.btn\r\n                        ? \"Account is updated successfully.\"\r\n                        : \"New account is created successfully.\";\r\n                    setFormState(INITIAL_FORM_STATE);\r\n                    setResponseMsg({\r\n                        success: true,\r\n                        msg: successMsg,\r\n                    });\r\n                }\r\n                window.location = \"/login\";\r\n            })\r\n            .catch((err) => {\r\n                // debugger;\r\n                if (err.response) {\r\n                    console.log(err.response);\r\n                    setResponseMsg({\r\n                        success: false,\r\n                        msg: err.response.data.message,\r\n                    });\r\n                }\r\n            });\r\n    };\r\n    return (\r\n        <div>\r\n            <h1>Sign Up</h1>\r\n            {responseMsg.success !== null && (\r\n                <p\r\n                    className={`text-center ${\r\n                        responseMsg.success ? \"text-success\" : \"text-danger\"\r\n                    }`}\r\n                >\r\n                    {responseMsg.msg}\r\n                </p>\r\n            )}\r\n            <form onSubmit={onFormSubmit}>\r\n                <label>\r\n                    Username <br />\r\n                    <input\r\n                        name=\"username\"\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        value={formState.username}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <div className=\"text-danger\">{formErrors.username}</div>\r\n                </label>\r\n                <label>\r\n                    Email <br />\r\n                    <input\r\n                        name=\"email\"\r\n                        type=\"email\"\r\n                        placeholder=\"Your email\"\r\n                        value={formState.email}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <div className=\"text-danger\">{formErrors.email}</div>\r\n                </label>\r\n                <label>\r\n                    Password <br />\r\n                    <input\r\n                        name=\"password\"\r\n                        type=\"password\"\r\n                        value={formState.password}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <div className=\"text-danger\">{formErrors.password}</div>\r\n                </label>\r\n                <button type=\"submit\" name=\"loginButton\">\r\n                    submit\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\nexport default SignUp;\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import axios from \"axios\";\r\n// import schema from \"./validation/registerSchema\";\r\n// import * as yup from \"yup\";\r\n// import { Link  } from 'react-router-dom';\r\n// import Navbar from '../components/Navbar.js';\r\n// import Footer from '../components/footer/Footer.js';\r\n\r\n// const baseUrl = \"https://unit4-build-week-backend.herokuapp.com/api\";\r\n// const registerUrl = \"auth/register\";\r\n\r\n// // INITIAL STATES\r\n// // INITIAL STATES\r\n// const initialFormValues = {\r\n//   username: \"\",\r\n//   password: \"\",\r\n//   email: \"\",\r\n//   terms: false,\r\n// };\r\n\r\n// //Where should the rest of the request body be created?\r\n// //\"current_location_lat\": \"16.293869\", #optional, defaults to target market if not provided.\r\n// //\"current_location_long\": \"26.2199\",  #optional, defaults to target market if not provided.\r\n\r\n// //The success response?\r\n// //     \"user_id\": 7,\r\n// //     \"username\": \"foodieFan\",\r\n// //     \"current_location_lat\": \"16.293869\",\r\n// //     \"current_location_long\": \"26.2199\",\r\n// //     \"created_at\": \"2020-12-23 19:56:28\",\r\n// //     \"updated_at\": \"2020-12-23 19:56:28\"\r\n\r\n// // USED IN VALIDATION\r\n// const initialFormErrors = {\r\n//   username: \"\",\r\n//   password: \"\",\r\n//   email: \"\",\r\n//   terms: false,\r\n// };\r\n\r\n// export default function SignUp() {\r\n//   // STATES\r\n//   // STATES\r\n//   const [users, setUsers] = useState([]);\r\n//   const [formValues, setFormValues] = useState(initialFormValues);\r\n//   const [formErrors, setFormErrors] = useState(initialFormErrors);\r\n//   const [disabled, setDisabled] = useState(true);\r\n//   // EVENT HANDLERS\r\n//   // EVENT HANDLERS\r\n  \r\n//   //Changes the form when form value is changed\r\n//   const updateForm = (inputName, inputValue) => {\r\n//     yup\r\n//       .reach(schema, inputName)\r\n//       .validate(inputValue)\r\n//       .then(() => {\r\n//         setFormErrors({\r\n//           ...formErrors,\r\n//           [inputName]: \"\",\r\n//         });\r\n//       })\r\n//       //Returning error messages from validation\r\n//       .catch((err) => {\r\n//         setFormErrors({\r\n//           ...formErrors,\r\n//           [inputName]: err.formErrors,\r\n//         });\r\n//       });\r\n\r\n//     setFormValues({\r\n//       ...formValues,\r\n//       [inputName]: inputValue,\r\n//     });\r\n//   };\r\n\r\n//   //Submit the form and post to backend using POST\r\n//   const registerUser = () => {\r\n//     const newUser = {\r\n//       username: formValues.username.trim(),\r\n//       password: formValues.password.trim(),\r\n//       email: formValues.email.trim(),\r\n//     };\r\n//     // I don't need these two lines of code because I'm using schema for validation. But... Maybe it would have been more clean to use these two lines. \r\n//     // if (!newUser.username || !newUser.password || !newUser.email)\r\n//     // return;\r\n\r\n//     //POST request to /auth/register and reset form\r\n//     axios\r\n//       .post(`${baseUrl}/${registerUrl}`, newUser)\r\n//       .then((res) => {\r\n//         setUsers([newUser, ...users]);\r\n//         setFormValues(initialFormValues);\r\n//       })\r\n//       .catch((err) => {\r\n//         console.log(\"This is an error from POST request!\");\r\n//       });\r\n//   };\r\n\r\n//   //Side Effects\r\n//   //put user in state. GET all users from user or register API? Do I need to get users to make sure they're not registering twice?\r\n\r\n//   useEffect(() => {\r\n//     axios\r\n//       .get(`${baseUrl}/${registerUrl}`)\r\n//       .then((res) => {\r\n//         setUsers(res.data);\r\n//       })\r\n//       .catch((err) => {\r\n//         console.log(\"This is an error from GET request!\");\r\n//       });\r\n//   }, []);\r\n\r\n//   // this adjusts the status of 'disabled' every time when formValues change\r\n//   useEffect(() => {\r\n//     schema.isValid(formValues).then(valid => {\r\n//       setDisabled(!valid);\r\n//     });\r\n//   }, [formValues]);\r\n\r\n//   return (\r\n//     <>\r\n  \r\n//     <Navbar />\r\n//     <form className=\"form container\" onSubmit={registerUser}>\r\n//       <div className=\"register container\">\r\n//         <label>\r\n//           Username\r\n//           <input\r\n//             name=\"username\"\r\n//             type=\"text\"\r\n//             placeholder=\"enter username\"\r\n//             maxLength=\"30\"\r\n//             value={formValues.username}\r\n//             onChange={updateForm}\r\n//           />\r\n//         </label>\r\n//         <label>\r\n//           Password\r\n//           <input\r\n//             name=\"password\"\r\n//             type=\"text\"\r\n//             placeholder=\"enter password\"\r\n//             maxLength=\"30\"\r\n//             value={formValues.password}\r\n//             onChange={updateForm}\r\n//           />\r\n//         </label>\r\n//         <label>\r\n//           Email\r\n//           <input\r\n//             name=\"email\"\r\n//             type=\"email\"\r\n//             placeholder=\"enter email\"\r\n//             maxLength=\"30\"\r\n//             value={formValues.email} \r\n//             onChange={updateForm}\r\n//           />\r\n//         </label>\r\n//         <label>\r\n//           <input\r\n//             name=\"terms\"\r\n//             type=\"checkbox\"\r\n//             checked={formValues.terms}\r\n//             onChange={updateForm}\r\n//           />\r\n//           <span>I agree to all the statements in the <b>terms of service</b></span>\r\n//         </label>\r\n//         <button disabled={disabled}>Sign Up!</button>\r\n//         {/* This should Link to the sign in component. Make sure path in Route matches also*/}\r\n//         <Link to='/'>I'm already a member</Link>\r\n\r\n       \r\n//       </div>\r\n//     </form>\r\n//     <Footer />\r\n//     </>\r\n//   );\r\n// }\r\n","C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\homepage\\Homepage.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\Navbar.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\homepage\\Basemap.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\footer\\Footer.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\loading-screen\\Loading.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\actions\\trucksActions.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\actions\\index.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\validation\\registerSchema.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\actions\\authActions.js",[],["91","92"],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\utils\\axiosWithAuth.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\login.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\privateRoute.js",[],"C:\\Users\\ADAM\\desktop\\FrontEnd\\src\\components\\validation\\loginFormSchema.js",[],{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"93","replacedBy":"97"},{"ruleId":"95","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":22,"column":12,"nodeType":"101","messageId":"102","endLine":22,"endColumn":20},{"ruleId":"93","replacedBy":"103"},{"ruleId":"95","replacedBy":"104"},"no-native-reassign",["105"],"no-negated-in-lhs",["106"],["105"],["106"],"no-unused-vars","'disabled' is assigned a value but never used.","Identifier","unusedVar",["105"],["106"],"no-global-assign","no-unsafe-negation"]